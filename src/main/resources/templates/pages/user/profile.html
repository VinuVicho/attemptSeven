<!DOCTYPE html>
<!--suppress RequiredAttributes -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${foundUser.getUsername()}"></title>
</head>
<body>
<div th:unless="${(foundUser.getProfilePhoto() == null)}">
    <a th:href="${foundUser.getProfilePhoto()}">
        <img th:src="${foundUser.getProfilePhoto()}" height="100" alt="">
    </a>
</div>
<p th:text="${foundUser.getId()} + ' ' + ${foundUser.getUsername()}"></p>
<p th:text="${foundUser.getAbout() == null} ? 'No bio yet' : 'Bio: ' + ${foundUser.getAbout()}"></p>
<br>
<a th:href="@{user/{credentials}/subscribers(credentials=${foundUser.getUsername()})}">
    <p th:text="${foundUser.getSubscribers().size()} + ' subscribers'"></p></a>
<a th:href="@{user/{credentials}/subscribed(credentials=${foundUser.getUsername()})}">
    <p th:text="${foundUser.getSubscribedTo().size()} + ' subscribed'"></p></a>

<div th:unless="${currentUser == null}">
    <div th:unless="${currentUser.getBlockedUsers().contains(foundUser)}">
        <a th:href="@{{credentials}/to-friends(credentials=${foundUser.getUsername()})}">
            <p th:text="${currentUser.getSubscribedTo().contains(foundUser)} ? 'UnSubscribe' : 'Subscribe'"></p>
        </a>
    </div>
    <a th:href="@{{credentials}/block(credentials=${foundUser.getUsername()})}">
        <p th:text="${currentUser.getBlockedUsers().contains(foundUser)} ? 'Unblock' : 'Block'"></p>
    </a>
</div>

<div th:each="post : ${foundUser.getPosts()}">
    <a th:href="@{/post/{id}(id=${post.getId()})}">
        <p th:text="${post.getTitle()}"></p>
        <div th:unless="${(post.getImage().equals(''))}">
            <img th:src="${post.getImage()}" alt="no" height="500">
        </div>
        <p>
            <a th:href="@{/{postId}/liked(postId=${post.getId()})}" th:text="${post.getLiked().size()} + ' Likes '"></a>
            <a th:href="@{/{id}/disliked(id=${post.getId()})}" th:text="${post.getDisliked().size()} + ' Dislikes'"></a>
        </p>
        <p th:text="${post.getComments().size()} + ' Comments'"></p>
    </a>
    <hr>
</div>

</body>
</html>